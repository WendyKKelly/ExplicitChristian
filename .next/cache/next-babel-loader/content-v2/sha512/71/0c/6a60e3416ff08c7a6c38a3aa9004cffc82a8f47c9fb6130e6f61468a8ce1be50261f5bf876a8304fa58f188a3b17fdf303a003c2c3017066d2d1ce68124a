{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useRef, useState } from 'react';\nimport Section from './subscribe.style';\nexport default function Subscribe() {\n  // 1. Create a reference to the input so we can fetch/clear it's value.\n  const inputEl = useRef(null); // 2. Hold a message in state to handle the response from our API.\n\n  const {\n    0: message,\n    1: setMessage\n  } = useState('');\n\n  const subscribe = async e => {\n    e.preventDefault(); // 3. Send a request to our API with the user's email address.\n\n    const res = await fetch('/api/subscribe', {\n      body: JSON.stringify({\n        email: inputEl.current.value\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST'\n    });\n    const {\n      error\n    } = await res.json();\n\n    if (error) {\n      // 4. If there was an error, update the message in state.\n      setMessage(error);\n      return;\n    } // 5. Clear the input value and show a success message.\n\n\n    inputEl.current.value = '';\n    setMessage('Success! ðŸŽ‰ You are now subscribed to the newsletter.');\n  };\n\n  return /*#__PURE__*/_jsxs(Section, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"text-4xl md:text-6xl font-bold tracking-tighter leading-tight md:pr-8\",\n      children: message ? message : `Stay Connected:`\n    }), /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: subscribe,\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        htmlFor: \"email-input\",\n        children: ' '\n      }), /*#__PURE__*/_jsx(\"input\", {\n        id: \"email-input\",\n        name: \"email\",\n        placeholder: \"Email:\",\n        ref: inputEl,\n        required: true,\n        type: \"email\"\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"text-6xl md:text-8xl font-bold tracking-tighter leading-tight md:pr-8\",\n        children: /*#__PURE__*/_jsx(\"button\", {\n          type: \"submit\",\n          children: 'Submit '\n        })\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}